<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <title>Up, Down</title>
  <script src='../../../app/lib/deep-clone.js'></script>
  <style>
    .centered {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }
  </style>
  <script id='data'>
    const numbers = {
      current: 0,
      past: []
    }
  </script>
  <script id='log'>
    const log = [];
  </script>
  <script id='init'>
    window.onload = function () {
      // log initial state
      // creating a copy so the log entry does not change later with side-effects
      const copiedState = deepClone(numbers);
      log.push({ initialNumbers: copiedState });
      // render UI from initial state
      document.getElementById('current-number').innerHTML = numbers.current;
    }
  </script>
  <script id='handlers'></script>
</head>

<body>
  <section id='user-interface' class='centered'>
    <code id='current-number'></code>
  </section>

  <script id='listeners'></script>
</body>

</html>
